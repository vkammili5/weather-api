@startuml "WeatherAPI"
skinparam ClassAttributeIconSize 0

interface ICityService <<interface>> {
    + GetCityByCityName(cityName : string) : City
}

class CityService {
    - httpClient : HttpClient
}

class City {
    + CityName : string
    + latitude : double
    + longitude : double
}

class WeatherController {
    - weatherService : IWeatherService
    - cityService : ICityService

    + WeatherController(\n\
        weatherService : IWeatherService,\n\
        cityService : ICityService\n\
    )

    + GetWeatherByLatLon(\n\
        latitude : double, \n\
        longitude : double\n\
    ) : ActionResult<Weather>

    + GetWeatherByCityName(cityName : string) : ActionResult<Weather>
}

interface IWeatherService <<interface>> {
    + GetWeatherByLatLon(\n\
        latitude : double, \n\
        longitude : double\n\
    ) : Weather
}

class WeatherService {
    - httpClient : HttpClient
}

class Weather {
    + Latitude : double
    + Longitude : double
    + StartDate : DateTime
    + EndDate : DateTime
    + WeatherCodes : List<WeatherCode>
}

Enum WeatherCode {
    ClearSky
    Cloudy
    Fog
    RainOrWorse
}

ICityService <|.. CityService
ICityService --> City
WeatherController --> City

WeatherController o-- IWeatherService
WeatherController o-- ICityService

IWeatherService <|.. WeatherService

WeatherController --> Weather
IWeatherService --> Weather

Weather o-- WeatherCode

@enduml